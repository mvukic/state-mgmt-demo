import{$a as u,Ab as j,Bb as D,Cb as F,Db as G,E as v,Eb as L,Fb as M,Gb as y,Jb as f,Kb as d,L as a,Lb as h,Nb as I,Wa as A,ab as z,bb as C,j as x,l as P,ob as g,qb as p,rb as E,sb as O,t as H,tb as m,ub as l,vb as T,x as R,xb as c,yb as U}from"./chunk-T3IX4ERD.js";import{a as s,b as n}from"./chunk-FOMVCAMB.js";var i=z({source:"House",events:{set:u(),create:u(),createSuccess:u(),update:u(),load:u(),close:C()}});var b=e=>e.houseState,Z={selectHouse:g(b,e=>e.house),selectIsSet:g(b,e=>e.isSet)};var K=f((e=a(d),o=a(y))=>e.pipe(h(i.create),R(({name:t})=>o.createHouse(t).pipe(P(({id:r})=>i.load({id:r})),H(r=>x(I.failure({message:r})))))),{functional:!0,dispatch:!0}),N=f((e=a(d),o=a(y))=>e.pipe(h(i.load),R(({id:t})=>o.getHouse(t).pipe(P(({id:r,name:J})=>i.set({id:r,name:J})),H(r=>x(I.failure({message:r})))))),{functional:!0,dispatch:!0}),Q=f((e=a(d),o=a(A))=>e.pipe(h(i.set),v(({id:t})=>o.navigate(["house",t]))),{functional:!0,dispatch:!1}),V=f((e=a(d),o=a(A))=>e.pipe(h(i.close),v(()=>o.navigate(["house","create"]))),{functional:!0,dispatch:!1}),ie={onSet:Q,onCreate:K,onLoad:N,onClose:V};function k(e,o){return n(s({},e),{people:l.setAll(o,e.people)})}function q(e,o,t){let r={id:crypto.randomUUID(),firstName:o,lastName:t};return n(s({},e),{people:l.addOne(r,e.people)})}function w(e,o,t,r){return n(s({},e),{people:l.updateOne({id:o,changes:{firstName:t,lastName:r}},e.people)})}function B(e,o){return n(s({},e),{people:l.removeOne(o,e.people)})}var S=()=>({house:{id:"",name:""},people:T,rooms:U,isSet:!1});var ve=E(S(),p(i.set,(e,{id:o,name:t})=>n(s({},e),{house:{id:o,name:t},isSet:!0})),p(i.update,(e,{name:o})=>n(s({},e),{house:n(s({},e.house),{name:o})})),p(i.close,()=>s({},S())),p(O.logout,()=>s({},S())),p(m.create,(e,{firstName:o,lastName:t})=>q(e,o,t)),p(m.update,(e,{personId:o,firstName:t,lastName:r})=>w(e,o,t,r)),p(m.set,(e,{people:o})=>k(e,o)),p(m.delete,(e,{personId:o})=>B(e,o)),p(c.create,(e,{name:o,designation:t})=>D(e,o,t)),p(c.set,(e,{rooms:o})=>j(e,o)),p(c.update,(e,{roomId:o,name:t,designation:r})=>F(e,o,t,r)),p(c.delete,(e,{roomId:o})=>G(e,o)),p(c.removePerson,(e,{roomId:o,personId:t})=>M(e,o,t)),p(c.addPerson,(e,{roomId:o,personId:t})=>L(e,o,t)));export{i as a,ie as b,ve as c,Z as d};
